<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Settings - Miku Theme</title>
  <link rel="stylesheet" href="fonts/nerdfonts.css">
  <link rel="stylesheet" href="settings-style.css">
</head>
<body>
  <div class="container">
    <header>
      <h1><span class="nf nf-md-palette"></span> Miku Theme Settings</h1>
      <p class="subtitle">Customize your new tab experience</p>
    </header>

    <div class="settings-grid">
      <!-- Blur Effects Section -->
      <section class="settings-section">
        <h2><span class="nf nf-md-blur"></span> Visual Effects</h2>
        <div class="setting-item">
          <div class="setting-info">
            <label for="blurToggle">Enable Blur Effects</label>
            <p class="setting-description">Apply blur to all UI elements (search bar, shortcuts, etc.)</p>
          </div>
          <label class="toggle">
            <input type="checkbox" id="blurToggle">
            <span class="toggle-slider"></span>
          </label>
        </div>
        <div class="setting-item">
          <div class="setting-info">
            <label for="wallpaperBlurToggle">Blur Wallpaper</label>
            <p class="setting-description">Apply blur effect to the background image (requires blur effects enabled)</p>
          </div>
          <label class="toggle">
            <input type="checkbox" id="wallpaperBlurToggle">
            <span class="toggle-slider"></span>
          </label>
        </div>
        <!-- Teto Mode Toggle (hidden by default) -->
        <div class="setting-item" id="tetoModeContainer" style="display: none;">
          <div class="setting-info">
            <label for="tetoModeToggle">ðŸ”´ Teto Mode</label>
            <p class="setting-description">Switch to Kasane Teto theme with red color scheme</p>
          </div>
          <label class="toggle">
            <input type="checkbox" id="tetoModeToggle">
            <span class="toggle-slider teto"></span>
          </label>
        </div>
      </section>

      <!-- Background Section -->
      <section class="settings-section">
        <h2><span class="nf nf-md-image"></span> Background Image</h2>
        <div class="setting-item column">
          <div class="setting-info">
            <label>Custom Background</label>
            <p class="setting-description">Upload your own background image or use random from GitHub</p>
          </div>
          <div class="bg-controls">
            <input type="file" id="bgUpload" accept="image/*" style="display: none;">
            <button class="btn secondary" id="uploadBtn">
              <span class="nf nf-md-upload"></span> Upload Image
            </button>
            <button class="btn danger" id="resetBgBtn">
              <span class="nf nf-md-refresh"></span> Reset to Random
            </button>
          </div>
          <div id="bgPreview" class="bg-preview"></div>
        </div>
        <div class="setting-item">
          <div class="setting-info">
            <label for="bgDisplayMode">Display Mode</label>
            <p class="setting-description">Choose how the background image is displayed</p>
          </div>
          <select id="bgDisplayMode" class="setting-select">
            <option value="cover">Cover (Default)</option>
            <option value="contain">Contain</option>
            <option value="fill">Fill</option>
            <option value="stretch">Stretch</option>
            <option value="tile">Tile</option>
          </select>
        </div>
        <div class="setting-item">
          <div class="setting-info">
            <label>Image Cache</label>
            <p class="setting-description">Clear cached background images to load new random images</p>
          </div>
          <button class="btn danger" id="clearCacheBtn">
            <span class="nf nf-md-delete"></span> Clear Cache
          </button>
        </div>
      </section>

      <!-- Custom Color Section -->
      <section class="settings-section">
        <h2><span class="nf nf-md-palette"></span> Custom Color Scheme</h2>
        <div class="setting-item">
          <div class="setting-info">
            <label for="customColorToggle">Enable Custom Color</label>
            <p class="setting-description">Use custom colors (only available with custom wallpaper)</p>
          </div>
          <label class="toggle">
            <input type="checkbox" id="customColorToggle">
            <span class="toggle-slider"></span>
          </label>
        </div>
        <div class="setting-item" id="customColorContainer" style="display: none;">
          <div class="setting-info">
            <label for="customColorPicker">Primary Color</label>
            <p class="setting-description">Choose your primary theme color</p>
          </div>
          <input type="color" id="customColorPicker" class="color-picker" value="#68c3ff">
        </div>
      </section>

      <!-- Info Section -->
      <section class="settings-section info-section">
        <h2><span class="nf nf-md-information"></span> About</h2>
        <div class="info-grid">
          <a href="https://youtube.com/@MalikHw47" target="_blank" class="info-card">
            <span class="nf nf-md-youtube"></span>
            <div>
              <strong>YouTube</strong>
              <p>@MalikHw47</p>
            </div>
          </a>
          <a href="https://twitch.tv/MalikHw47" target="_blank" class="info-card">
            <span class="nf nf-md-twitch"></span>
            <div>
              <strong>Twitch</strong>
              <p>MalikHw47</p>
            </div>
          </a>
          <a href="https://github.com/MalikHw" target="_blank" class="info-card">
            <span class="nf nf-md-github"></span>
            <div>
              <strong>GitHub</strong>
              <p>MalikHw</p>
            </div>
          </a>
          <a href="https://ko-fi.com/MalikHw47" target="_blank" class="info-card kofi">
            <span class="nf nf-fa-dollar"></span>
            <div>
              <strong>Support Me</strong>
              <p>Ko-fi</p>
            </div>
          </a>
          <a href="https://throne.com/MalikHw47" target="_blank" class="info-card throne">
            <span class="nf nf-fa-gift"></span>
            <div>
              <strong>Buy Me A Gift!</strong>
              <p>Throne</p>
            </div>
          </a>
        </div>
        <!-- Version Display -->
        <div class="version-display" id="versionDisplay">
          <span class="nf nf-md-information_outline"></span>
          <span>Version: <span id="versionNumber">Loading...</span></span>
        </div>
      </section>
    </div>

    <div class="footer">
      <p>Made with <span class="nf nf-md-heart" style="color: #ff4757;"></span> by MalikHw47</p>
      <p style="margin-top: 0.5rem; font-size: 0.9rem; opacity: 0.8;">
        Help us reach Chrome Web Store! 
        <a href="https://ko-fi.com/MalikHw47" target="_blank" style="color: white; text-decoration: underline;">Donate on Ko-fi</a>
      </p>
    </div>
  </div>

  <div id="toast" class="toast"></div>

  <!-- Firefox compatibility wrapper -->
  <script src="firefox-settings-script.js"></script>
</body>
</html>
